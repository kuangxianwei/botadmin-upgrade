(function(f){f.fn.theiaStickySidebar=function(X){var a={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:true,minWidth:0,disableOnResponsiveLayouts:true,sidebarBehavior:"modern"};X=f.extend(a,X);X.additionalMarginTop=parseInt(X.additionalMarginTop)||0;X.additionalMarginBottom=parseInt(X.additionalMarginBottom)||0;b(X,this);function b(X,a){var b=fL(X,a);if(!b){console.log("TST: Body width smaller than options.minWidth. Init is delayed.");f(document).scroll(function(X,a){return function(b){var bC=fL(X,a);if(bC){f(this).unbind(b)}}}(X,a));f(window).resize(function(X,a){return function(b){var bC=fL(X,a);if(bC){f(this).unbind(b)}}}(X,a))}}function fL(X,a){if(X.initialized===true){return true}if(f("body").width()<X.minWidth){return false}bC(X,a);return true}function bC(X,a){X.initialized=true;f("head").append(f('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'));a.each(function(){var a={};a.sidebar=f(this);a.options=X||{};a.container=f(a.options.containerSelector);if(a.container.length==0){a.container=a.sidebar.parent()}a.sidebar.parents().css("-webkit-transform","none");a.sidebar.css({position:"relative",overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"});a.stickySidebar=a.sidebar.find(".theiaStickySidebar");if(a.stickySidebar.length==0){var b=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;a.sidebar.find("script").filter(function(f,X){return X.type.length===0||X.type.match(b)}).remove();a.stickySidebar=f("<div>").addClass("theiaStickySidebar").append(a.sidebar.children());a.sidebar.append(a.stickySidebar)}a.marginTop=parseInt(a.sidebar.css("margin-top"));a.marginBottom=parseInt(a.sidebar.css("margin-bottom"));a.paddingTop=parseInt(a.sidebar.css("padding-top"));a.paddingBottom=parseInt(a.sidebar.css("padding-bottom"));var fL=a.stickySidebar.offset().top;var bC=a.stickySidebar.outerHeight();a.stickySidebar.css("padding-top",0);a.stickySidebar.css("padding-bottom",0);fL-=a.stickySidebar.offset().top;bC=a.stickySidebar.outerHeight()-bC-fL;if(fL==0){a.stickySidebar.css("padding-top",0);a.stickySidebarPaddingTop=0}else{a.stickySidebarPaddingTop=0}if(bC==0){a.stickySidebar.css("padding-bottom",0);a.stickySidebarPaddingBottom=0}else{a.stickySidebarPaddingBottom=0}a.previousScrollTop=null;a.fixedScrollTop=0;c();a.onScroll=function(a){if(!a.stickySidebar.is(":visible")){return}if(f("body").width()<a.options.minWidth){c();return}if(a.options.disableOnResponsiveLayouts){var b=a.sidebar.outerWidth(a.sidebar.css("float")=="none");if(b+50>a.container.width()){c();return}}var fL=f(document).scrollTop();var bC="static";if(fL>=a.container.offset().top+(a.paddingTop+a.marginTop-a.options.additionalMarginTop)){var g=a.paddingTop+a.marginTop+X.additionalMarginTop;var Y=a.paddingBottom+a.marginBottom+X.additionalMarginBottom;var cS=a.container.offset().top;var aG=a.container.offset().top+d(a.container);var dA=0+X.additionalMarginTop;var aO;var gP=a.stickySidebar.outerHeight()+g+Y<f(window).height();if(gP){aO=dA+a.stickySidebar.outerHeight()}else{aO=f(window).height()-a.marginBottom-a.paddingBottom-X.additionalMarginBottom}var e=cS-fL+a.paddingTop+a.marginTop;var O=aG-fL-a.paddingBottom-a.marginBottom;var aA=a.stickySidebar.offset().top-fL;var aW=a.previousScrollTop-fL;if(a.stickySidebar.css("position")=="fixed"){if(a.options.sidebarBehavior=="modern"){aA+=aW}}if(a.options.sidebarBehavior=="stick-to-top"){aA=X.additionalMarginTop}if(a.options.sidebarBehavior=="stick-to-bottom"){aA=aO-a.stickySidebar.outerHeight()}if(aW>0){aA=Math.min(aA,dA)}else{aA=Math.max(aA,aO-a.stickySidebar.outerHeight())}aA=Math.max(aA,e);aA=Math.min(aA,O-a.stickySidebar.outerHeight());var fI=a.container.height()==a.stickySidebar.outerHeight();if(!fI&&aA==dA){bC="fixed"}else if(!fI&&aA==aO-a.stickySidebar.outerHeight()){bC="fixed"}else if(fL+aA-a.sidebar.offset().top-a.paddingTop<=X.additionalMarginTop){bC="static"}else{bC="absolute"}}if(bC=="fixed"){a.stickySidebar.css({position:"fixed",width:a.sidebar.width(),top:aA,left:a.sidebar.offset().left+parseInt(a.sidebar.css("padding-left"))})}else if(bC=="absolute"){var db={};if(a.stickySidebar.css("position")!="absolute"){db.position="absolute";db.top=fL+aA-a.sidebar.offset().top-a.stickySidebarPaddingTop-a.stickySidebarPaddingBottom}db.width=a.sidebar.width();db.left="";a.stickySidebar.css(db)}else if(bC=="static"){c()}if(bC!="static"){if(a.options.updateSidebarHeight==true){a.sidebar.css({"min-height":a.stickySidebar.outerHeight()+a.stickySidebar.offset().top-a.sidebar.offset().top+a.paddingBottom})}}a.previousScrollTop=fL};a.onScroll(a);f(document).scroll(function(f){return function(){f.onScroll(f)}}(a));f(window).resize(function(f){return function(){f.stickySidebar.css({position:"static"});f.onScroll(f)}}(a));function c(){a.fixedScrollTop=0;a.sidebar.css({"min-height":"0px"});a.stickySidebar.css({position:"static",width:""})}function d(X){var a=X.height();X.children().each(function(){a=Math.max(a,f(this).height())});return a}})}}})(jQuery);$(document).ready(function(){$(".sidebar").theiaStickySidebar({additionalMarginTop:12,additionalMarginBottom:100})});